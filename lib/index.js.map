{"version":3,"sources":["../src/index.js"],"names":["config","SPEC_PATH","spec","PORT","Number","port","then","YAML","parse","setSpec","router","paths","cfg","imageProvider"],"mappings":"AAAA;;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;AAEA,MAAMA,MAAM,GAAG,2BAAf;AACA,MAAMC,SAAS,GAAGD,MAAM,CAACE,IAAzB;AACA,MAAMC,IAAI,GAAGC,MAAM,CAACJ,MAAM,CAACK,IAAR,CAAnB;AAEA,sBAAQJ,SAAR,EACGK,IADH,CACQC,gBAAKC,KADb,EAEGF,IAFH,CAEQG,eAFR,EAGGH,IAHH,CAGQJ,IAAI,IAAI;AACZ,QAAMQ,MAAM,GAAG,oBAAOR,IAAI,CAACS,KAAZ,EAAmB;AAACN,IAAAA,IAAI,EAAEF;AAAP,GAAnB,CAAf;AACA,QAAMS,GAAG,GAAG;AACVC,IAAAA,aAAa,EAAEb,MAAM,CAACa;AADZ,GAAZ;AAGA,gCAAiBH,MAAjB,EAAyB,CAAC,sBAASE,GAAT,CAAD,CAAzB;AACD,CATH","sourcesContent":["#!/usr/bin/env node\nimport { ballboy } from \"ballboy\";\nimport { configure } from \"./components/configure\";\nimport { setSpec } from \"./components/parser\";\nimport { createMiddleware, listen } from \"./components/router\";\nimport { mockData } from \"./components/mocker\";\nimport YAML from 'yamljs';\n\nconst config = configure();\nconst SPEC_PATH = config.spec;\nconst PORT = Number(config.port);\n\nballboy(SPEC_PATH)\n  .then(YAML.parse)\n  .then(setSpec)\n  .then(spec => {\n    const router = listen(spec.paths, {port: PORT});\n    const cfg = {\n      imageProvider: config.imageProvider\n    };\n    createMiddleware(router, [mockData(cfg)]);\n  });\n"],"file":"index.js"}