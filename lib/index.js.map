{"version":3,"sources":["../src/index.js"],"names":["config","SPEC_PATH","spec","PORT","Number","port","cfg","imageProvider","mocker","SwaggerParser","dereference","then","getMethod","router","paths"],"mappings":"AAAA;;;AACA;;AAEA;;AACA;;AACA;;AACA;;AAEA;;AACA;;;;AAEA,MAAMA,MAAM,GAAG,2BAAf;AACA,MAAMC,SAAS,GAAGD,MAAM,CAACE,IAAzB;AACA,MAAMC,IAAI,GAAGC,MAAM,CAACJ,MAAM,CAACK,IAAR,CAAnB;AACA,MAAMC,GAAG,GAAG;AACVC,EAAAA,aAAa,EAAEP,MAAM,CAACO;AADZ,CAAZ;AAGA,MAAMC,MAAM,GAAG,sBAASF,GAAT,CAAf;;AAEAG,uBAAcC,WAAd,CAA0BT,SAA1B,EAAqCU,IAArC,CAA2CT,IAAD,IAAmB;AAC3D,QAAMU,SAAS,GAAG,4BAAeV,IAAf,CAAlB;AACA,QAAMW,MAAM,GAAG,8BAAiB;AAAER,IAAAA,IAAI,EAAEF;AAAR,GAAjB,EAAiC,CAC9C,oBACEK,MADF,EAEEI,SAFF,CAD8C,CAAjC,CAAf;AAMAC,EAAAA,MAAM,CAACX,IAAI,CAACY,KAAN,CAAN;AACD,CATD","sourcesContent":["#!/usr/bin/env node\nimport \"source-map-support/register\";\n\nimport { configure } from \"./components/configure\";\nimport { createHTTPServer } from \"./components/router\";\nimport { mockData } from \"./components/mocker\";\nimport SwaggerParser from \"swagger-parser\";\nimport type { OpenAPI } from \"openapi3-flowtype-definition\";\nimport { getMethodModel } from \"./components/parser\";\nimport { compose } from \"./components/utils\";\n\nconst config = configure();\nconst SPEC_PATH = config.spec;\nconst PORT = Number(config.port);\nconst cfg = {\n  imageProvider: config.imageProvider\n};\nconst mocker = mockData(cfg);\n\nSwaggerParser.dereference(SPEC_PATH).then((spec: OpenAPI) => {\n  const getMethod = getMethodModel(spec);\n  const router = createHTTPServer({ port: PORT }, [\n    compose(\n      mocker,\n      getMethod\n    )\n  ]);\n  router(spec.paths);\n});\n"],"file":"index.js"}