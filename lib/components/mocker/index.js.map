{"version":3,"sources":["../../../src/components/mocker/index.js"],"names":["getFakerMethod","path","faker","createEnum","enumElements","createDate","date","between","Date","createBoolean","random","boolean","createImageLink","provider","replace","createNumber","min","max","options","number","createString","format","wordsCount","int","fakerMethod","words","slice","isNumber","type","createFakeData","imageProvider","minimum","maximum","minLength","maxLength","rest","enum","generateArrayItems","minItems","maxItems","items","arrayLength","Array","fill","mockData","model"],"mappings":"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","sourcesContent":["import faker from 'faker';\nimport random from 'random';\nimport { objectPath, randomElement } from \"../../utils/utils\";\nimport { getResponseModel, processor } from \"../parser\";\nimport type { Schema } from \"openapi3-flowtype-definition\";\n\ntype Config = {\n  imageProvider: string;\n}\n\nconst getFakerMethod = (path: string) => objectPath(faker, path);\n\nconst createEnum = (enumElements: Array<string | number | boolean>) => randomElement(enumElements);\nconst createDate = () => faker.date.between(new Date('2015-01-01'), new Date('2021-01-01'));\nconst createBoolean = () => random.boolean();\nconst createImageLink = (provider: string) => provider.replace('<width>', '200').replace('<height>', '300');\nconst createNumber = (min: number = 0, max: number = 9999999) => {\n  const options = {min, max};\n  return faker.random.number(options);\n};\nconst createString = (format: string = 'random.words') => (min: number, max: number) => {\n  const wordsCount: number = random.int(min, max);\n  const fakerMethod = getFakerMethod(format);\n  const words = fakerMethod(wordsCount);\n  return words.slice(0, max);\n};\n\nconst isNumber = (type: string): boolean => (type === 'number' || type === 'integer');\n\nconst createFakeData = ({imageProvider}: Config) =>\n  ({\n     type,\n     format,\n     minimum = 0,\n     maximum = 99999999,\n     minLength = 0,\n     maxLength = 500,\n     ...rest\n  }: Schema) => {\n  if (rest.enum) { return createEnum(rest.enum); }\n  if ('nullable' in rest && random.boolean()) { return null; }\n\n  if (format === 'date') { return createDate(); }\n  if (format === 'image') { return createImageLink(imageProvider); }\n\n  if (type === 'string') { return createString(format)(minLength, maxLength); }\n  if (isNumber(type)) { return createNumber(minimum, maximum); }\n  if (type === 'boolean') { return createBoolean(); }\n};\n\nconst generateArrayItems = ({minItems = 0, maxItems = 15, items}: Schema) => {\n  const arrayLength = random.int(minItems, maxItems);\n  return new Array(arrayLength).fill(items);\n};\n\nexport const mockData: (cfg: Config) => (model: Schema) => any = ({imageProvider}) => (model) => {\n  return processor(\n    createFakeData({imageProvider}),\n    { items: generateArrayItems },\n    getResponseModel(model)\n  );\n};\n"],"file":"index.js"}